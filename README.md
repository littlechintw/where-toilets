# å°ç£å»æ‰€åœ°åœ– ğŸš½

ä¸€å€‹ä½¿ç”¨æ”¿åºœé–‹æ”¾è³‡æ–™çš„å°ç£å»æ‰€åœ°åœ–æœå‹™ï¼Œå¹«åŠ©æ°‘çœ¾å¿«é€Ÿæ‰¾åˆ°é™„è¿‘çš„å…¬å…±å»æ‰€ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- ğŸ¯ **ç²¾æº–å®šä½**: ä½¿ç”¨ GPS å®šä½æ‰¾åˆ°æœ€è¿‘çš„å»æ‰€
- ğŸ” **æ™ºæ…§ç¯©é¸**: ä¾ç…§ç­‰ç´šã€é¡å‹ã€è¨­æ–½é€²è¡Œç¯©é¸
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**: å®Œç¾é©é…æ‰‹æ©Ÿã€å¹³æ¿èˆ‡é›»è…¦
- ğŸŒ **å¤šèªè¨€æ”¯æ´**: æ”¯æ´ç¹é«”ä¸­æ–‡èˆ‡è‹±æ–‡
- ğŸ”„ **è‡ªå‹•æ›´æ–°**: æ¯é€±è‡ªå‹•åŒæ­¥ç’°ä¿ç½²æœ€æ–°è³‡æ–™
- ğŸ—ºï¸ **äº’å‹•åœ°åœ–**: åŸºæ–¼ Leaflet çš„æµæš¢åœ°åœ–é«”é©—

## ğŸ›  æŠ€è¡“æ¶æ§‹

- **å‰ç«¯**: Vue 3 + Vite + Vue Router + Vue I18n
- **åœ°åœ–**: Leaflet.js
- **éƒ¨ç½²**: GitHub Pages
- **è³‡æ–™ä¾†æº**: ç’°ä¿ç½²é–‹æ”¾è³‡æ–™ API
- **è‡ªå‹•åŒ–**: GitHub Actions

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´

\`\`\`bash
npm install
\`\`\`

### é–‹ç™¼ç’°å¢ƒ

\`\`\`bash
npm run dev
\`\`\`

### å»ºç½®å°ˆæ¡ˆ

\`\`\`bash
npm run build
\`\`\`

### é è¦½å»ºç½®çµæœ

\`\`\`bash
npm run preview
\`\`\`

## ğŸ“Š è³‡æ–™è™•ç†

### æŠ“å–è³‡æ–™

é¦–å…ˆéœ€è¦ç”³è«‹ç’°ä¿ç½² API é‡‘é‘°ï¼Œç„¶å¾Œè¨­å®šç’°å¢ƒè®Šæ•¸ï¼š

\`\`\`bash
export MOENV_API_KEY=your_api_key_here
npm run fetch-data
\`\`\`

### æ­£è¦åŒ–è³‡æ–™

\`\`\`bash
npm run normalize-data
\`\`\`

### å®Œæ•´è™•ç†æµç¨‹

\`\`\`bash
npm run process-data
\`\`\`

## ğŸ”§ éƒ¨ç½²è¨­å®š

### GitHub Pages éƒ¨ç½²

1. Fork æ­¤å°ˆæ¡ˆåˆ°ä½ çš„ GitHub å¸³è™Ÿ
2. åœ¨ Repository Settings > Secrets ä¸­è¨­å®š `MOENV_API_KEY`
3. å•Ÿç”¨ GitHub Pages (Source: GitHub Actions)
4. ç³»çµ±æœƒè‡ªå‹•è¨­å®šä¸‰å€‹ç¨ç«‹çš„å·¥ä½œæµç¨‹ï¼š
   - è³‡æ–™æ›´æ–°ï¼ˆé€±æ—¥è‡ªå‹•åŸ·è¡Œï¼‰
   - ç¶²ç«™éƒ¨ç½²ï¼ˆè³‡æ–™æˆ–ç¨‹å¼ç¢¼è®Šæ›´æ™‚è§¸ç™¼ï¼‰
   - å¥åº·æª¢æŸ¥ï¼ˆæ¯æ—¥ç›£æ§ï¼‰

### è‡ªè¨‚ç¶²åŸŸ

æœ¬å°ˆæ¡ˆéƒ¨ç½²åœ¨è‡ªè¨‚ç¶²åŸŸï¼š**https://toilets.littlechin.tw**

CNAME æª”æ¡ˆå·²è¨­å®šç‚º `toilets.littlechin.tw`ï¼ŒVite è¨­å®šä½¿ç”¨æ ¹è·¯å¾‘ `/`ã€‚

å¦‚éœ€è®Šæ›´ç¶²åŸŸï¼š

1. ä¿®æ”¹ `public/CNAME` æª”æ¡ˆ
2. æ›´æ–° `vite.config.js` ä¸­çš„ `base` è¨­å®š
3. æ›´æ–° `src/main.js` ä¸­çš„è·¯ç”± `history` è¨­å®š
4. æ›´æ–° GitHub Actions ä¸­çš„å¥åº·æª¢æŸ¥ç¶²å€

## ğŸ“ å°ˆæ¡ˆçµæ§‹

\`\`\`
where_toilet/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ data/              # å»æ‰€è³‡æ–™æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ index.json     # ç¸£å¸‚ç´¢å¼•
â”‚   â”‚   â””â”€â”€ counties/      # å„ç¸£å¸‚è³‡æ–™
â”‚   â””â”€â”€ icons/             # åœ–ç¤ºæª”æ¡ˆ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # Vue çµ„ä»¶
â”‚   â”œâ”€â”€ views/             # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue       # é¦–é 
â”‚   â”‚   â””â”€â”€ Map.vue        # åœ°åœ–é 
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ geo.js         # åœ°ç†è¨ˆç®—å·¥å…·
â”‚   â”œâ”€â”€ App.vue            # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â””â”€â”€ main.js            # å…¥å£æª”æ¡ˆ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fetch-toilets.js   # è³‡æ–™æŠ“å–è…³æœ¬
â”‚   â””â”€â”€ normalize-data.js  # è³‡æ–™æ­£è¦åŒ–è…³æœ¬
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ update-and-deploy.yml  # GitHub Actions
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ README.md
\`\`\`

## ğŸ”„ è³‡æ–™æ›´æ–°æµç¨‹

æœ¬å°ˆæ¡ˆä½¿ç”¨åˆ†é›¢å¼çš„ GitHub Actions æ¶æ§‹ï¼š

### ğŸ“Š è³‡æ–™æ›´æ–° (update-data.yml)
- **åŸ·è¡Œæ™‚æ©Ÿ**: æ¯é€±æ—¥è‡ªå‹• / æ‰‹å‹•è§¸ç™¼
- **åŠŸèƒ½**: æŠ“å–ç’°ä¿ç½² API â†’ æ­£è¦åŒ–è³‡æ–™ â†’ æŒ‰ç¸£å¸‚åˆ†æª”
- **è§¸ç™¼éƒ¨ç½²**: è³‡æ–™æœ‰è®Šæ›´æ™‚è‡ªå‹•å»ºç«‹ deploy-flag.json

### ğŸš€ ç¶²ç«™éƒ¨ç½² (deploy.yml)  
- **åŸ·è¡Œæ™‚æ©Ÿ**: deploy-flag.json è®Šæ›´ / ç¨‹å¼ç¢¼è®Šæ›´ / æ‰‹å‹•è§¸ç™¼
- **åŠŸèƒ½**: å»ºç½® Vue æ‡‰ç”¨ â†’ éƒ¨ç½²åˆ° GitHub Pages
- **æ™ºæ…§åˆ¤æ–·**: åªåœ¨å¿…è¦æ™‚åŸ·è¡Œéƒ¨ç½²

### ğŸ¥ å¥åº·æª¢æŸ¥ (health-check.yml)
- **åŸ·è¡Œæ™‚æ©Ÿ**: æ¯æ—¥è‡ªå‹•æª¢æŸ¥
- **åŠŸèƒ½**: ç›£æ§ç¶²ç«™ç‹€æ…‹ â†’ æª¢æŸ¥è³‡æ–™æ–°é®®åº¦

è©³ç´°èªªæ˜è«‹åƒè€ƒ [GitHub Actions æ–‡ä»¶](.github/ACTIONS.md)

## ğŸ¨ è‡ªå®šç¾©è¨­å®š

### ä¿®æ”¹åœ°åœ–æ¨£å¼

åœ¨ `src/views/Map.vue` ä¸­ä¿®æ”¹ Leaflet ç“¦ç‰‡åœ–å±¤ï¼š

\`\`\`javascript
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Â© OpenStreetMap contributors'
}).addTo(map.value)
\`\`\`

### èª¿æ•´æ›´æ–°é »ç‡

åœ¨ `.github/workflows/update-and-deploy.yml` ä¸­ä¿®æ”¹ cron è¨­å®šï¼š

\`\`\`yaml
schedule:
  - cron: '0 0 * * 0'  # æ¯é€±æ—¥ UTC 0 é»
\`\`\`

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issues å’Œ Pull Requestsï¼

1. Fork æ­¤å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤è®Šæ›´: `git commit -m 'Add some amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/amazing-feature`
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æ­¤å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ™ è‡´è¬

- è³‡æ–™ä¾†æºï¼š[ç’°ä¿ç½²é–‹æ”¾è³‡æ–™å¹³å°](https://data.moenv.gov.tw/)
- åœ°åœ–æœå‹™ï¼š[OpenStreetMap](https://www.openstreetmap.org/)
- åœ–ç¤ºï¼šå„ç¨®é–‹æº Emoji

## ğŸ“ è¯çµ¡è³‡è¨Š

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€é GitHub Issues è¯çµ¡æˆ‘å€‘ã€‚

---

**å…è²¬è²æ˜**: æ­¤æœå‹™åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›å»æ‰€ç‹€æ³å¯èƒ½èˆ‡è³‡æ–™æœ‰æ‰€å·®ç•°ï¼Œè«‹ä»¥ç¾å ´ç‹€æ³ç‚ºæº–ã€‚